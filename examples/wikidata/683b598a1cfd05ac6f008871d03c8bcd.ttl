@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

<https://www.wikidata.org#query-683b598a1cfd05ac6f008871d03c8bcd> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org/wiki/User:MargaretRDonald/MarieCurietimelineAndVolcanoes>,
    <https://www.wikidata.org/wiki/User:Tommy_Kronkvist/Sandbox>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  rdfs:comment "Plants etc Jura's query Plant genera/gamilies without an article in English wikipedia Taxon names with SA Flora IDs Taxon names with Australian Tropical Rainforest IDs (ARTF IDs) Taxon names with NSW Plant IDs (IDs from PlantNET) Taxon names with FloraBase IDs Taxon names with Flora of Australia IDs Taxon names with VicFlora IDs Taxon names with NT flora IDs SPRAT: All SPRAT entries with taxon names SPRAT value Taxon property items All SPRAT database entries ordered by taxon All Acacias with no taxon range map (2070) All NT Acacias without a wikipedia article All NTFlora taxa with articles in Wikipedia  (59687 non-articles at 8 November 2011)All wikidata items with a fossilworks ID without an enwiki article Australian taxa without basionyms (62389 items)  (736 non-articles at 14 November 2011)All wikidata items with a SPRAT ID without an enwiki article (plus optional APNI link  (550 non-articles at 18 April 2020)wikidata items with a SPRAT ID without an enwiki article (plus required APNI link 10 botanists with altlabels and descriptions Waray articles without Leucopogon Range maps Succu's query counting the role of a reference in a taxon name Plant name contains \"chyrsocalyx\" - and failed publication data (13) APNI Apocynaceae aricles (154) Taxa named by Philip Miller with an enwiki article Taxa named by Barbara Lynette Rye with enwiki article APNI id plants with no wikidata basionym (58082) Count of NT Flora Ids (1190) Women botanists (needs modification to omit those with enwiki articles  Women botanists without enwiki article Lindauer's plants/seaweeds Robert Brown's 1068 enwiki articles Kelly Anne Shepherd's plants on enwiki Stuff to allow corrections of Australian Weed IDs Hayata's enwiki articles (58) Items with either an ATRFid or a QLD Biota id Items with ATRF ids Kevin Thiele's journal articles Phillip Gerhard Kodela's articles together with dates Enwiki articles for Kraenzl. Cunninghamia articles Nuytsia artiles uploaded to wikidata Muelleria articles uploaded to wikidata Trying to find plant with no image Vietnamese articles with image beginning in P and no enwiki article (124 Vietnamese articles with image beginning in P and no enwiki article and pphotgraphs by Kevin Thiele Muelleria articles Australian Systematic Botany articles Acacia articles without images Left-over Kevin Thiele images Benedictus Hubertus Danser articles Lichenologist articles 400 Index Fungorum records Mycotaxon journal articles  Taxa named by K.L.Wilson with an enwiki article  Australian Cyperus species Australian Comesperma species and subspecies Fungi enwiki articles 1073 wikidata fungi items Fungi No Author (101037 items) APNI id with optional NTFlor IDs Botanists & their abbreviations AusFungi IDs with no parents Count distinct Ausfungi taxa with no author AusLichenIDs with no author or no ex taxon author AusFungi IDs with no author no ex author Taxa authored by Daniel McAlpine Taxa authored by Marie Leonore Farr Taxa authored by John Alan Elix Count excess fungi taxa (>12000) IndexFungorum union Mycobank minus AusFungi (did not use select DISTINCT In index fungorum, auslichen, or ausfungg - optional Mycobank Any taxa in IF AusFungi or mycobank Fungi genera from either AusFungi or IndexFungorum Fungi genera from Index Fungorum Portuguese APNI articles Query to find WA Loranthaceae Allwikidata with Chrysomelinae ancestors + /- AFD-ids Coleoptera genera (Toby's query) Plant genera/families without an article in English wikipedia Paper counts by author in wikispecies Taxa named by David John Galloway enwiki articles with AusLichen IDs Alan W. Archer enwiki taxon articles Enwiki articles for taxa authored by Barbara Lynette Rye  (Fails to work)Taxa without taxonbars Robert Brown as author in wikidata but not linked in the enwiki article Joseph Dalton Hooker as author in wikidata but not (linked) in the corresponding English article Finding Merr. named plants without an author link Finding enwiki articles for Prostanthera without a range map Finding articles in enwiki missing the range_map parameter when a range map exists (0 for Actinotus)  Finding articles in frwiki missing the range_map parameter when a range map exists (73 for Acacia)  Finding articles in enwiki missing the range_map parameter when a range map exists (484 for Acacia) Vietnamese Lepidosperma articles without taxon range maps (58) Qvalues for Acacia species without taxon range maps (1985) Taxa in the Rubiaceae family with plantlist links where they exist (5598 taxa) Incorrectly formulated Species in Rubiaaceae family (2969) together with their plant list links  Plant List species without author information Tropicos with no author Taxa authored by Joseph Dalton Hooker with an enwiki article Taxa authored by Joseph Dalton Hooker without an enwiki article Taxa authored by John Teast Waterhouse with enwiki articles  (46764)Botanists' abbreviations  Query:APNI plant taxa without author qualifying information (35414) Query:APNI plant taxa without author qualifying information (limited to 200) Query: Peter Heenan (NZ botanist): species requiring articles with links to NZPCN, POWO (now 69) Taxa authored by Paul Graham Wilson & William Paul Taxa without an article authored by Peter Brian Heenan (70 items) Taxa authored by Peter Brian Heenan (77 items) Taxa authored by Peter Brian Heenan with an enwiki article (7 items)"@en,
    "Plants etc Taxa named by David John Galloway enwiki articles with AusLichen IDs Alan W. Archer enwiki taxon articles Enwiki articles for taxa authored by Barbara Lynette Rye  (Fails to work)Taxa without taxonbars Robert Brown as author in Wikidata but not linked in the enwiki article Joseph Dalton Hooker as author in Wikidata but not (linked) in the corresponding English article Finding Merr. named plants without an author link Finding enwiki articles for Prostanthera without a range map Finding articles in enwiki missing the range_map parameter when a range map exists (0 for Actinotus) Finding articles in frwiki missing the range_map parameter when a range map exists (73 for Acacia) Finding articles in enwiki missing the range_map parameter when a range map exists (484 for Acacia) Vietnamese Lepidosperma articles without taxon range maps (58) Qvalues for Acacia species without taxon range maps (1985) Taxa in the Rubiaceae family with plantlist links where they exist (5598 taxa) Incorrectly formulated Species in Rubiaaceae family (2969) together with their plant list links Plant List species without author information Tropicos with no author Taxa authored by Joseph Dalton Hooker with an enwiki article Taxa authored by Joseph Dalton Hooker without an enwiki article Taxa authored by John Teast Waterhouse with enwiki articles  (46764)Botanists' abbreviations Query:APNI plant taxa without author qualifying information (35414) Query:APNI plant taxa without author qualifying information (limited to 200) Query: Peter Heenan (NZ botanist): species requiring articles with links to NZPCN, POWO (now 69) Taxa authored by Paul Graham Wilson & William Paul Taxa without an article authored by Peter Brian Heenan (70 items) Taxa authored by Peter Brian Heenan (77 items) Taxa authored by Peter Brian Heenan with an enwiki article (7 items) Paper counts by author in Wikispecies  (Toby's query)Plant genera/families without an article in English Wikipedia  Jura's queryPlant genera/families without an article in English Wikipedia Taxon names with SA Flora IDs Taxon names with Australian Tropical Rainforest IDs (ARTF IDs) Taxon names with NSW Plant IDs (IDs from PlantNET) Taxon names with FloraBase IDs Taxon names with Flora of Australia IDs Taxon names with VicFlora IDs Taxon names with NT flora IDs SPRAT: All SPRAT entries with taxon names SPRAT value Taxon property items All SPRAT database entries ordered by taxon All Acacias with no taxon range map (2070) All NT Acacias without a Wikipedia article All NTFlora taxa with articles in Wikipedia  (59687 non-articles at 8 November 2011)All Wikidata items with a Fossilworks ID without an enwiki article Australian taxa without basionyms (62389 items)  (736 non-articles at 14 November 2011)All Wikidata items with a SPRAT ID without an enwiki article (plus optional APNI link  (550 non-articles at 18 April 2020)wikidata items with a SPRAT ID without an enwiki article (plus required APNI link 10 botanists with altlabels and descriptions Waray articles without Leucopogon Range maps Succu's query counting the role of a reference in a taxon name Plant name contains \"chyrsocalyx\" - and failed publication data (13) APNI Apocynaceae aricles (154) Taxa named by Philip Miller with an enwiki article Taxa named by Barbara Lynette Rye with enwiki article APNI id plants with no Wikidata basionym (58082) Count of NT Flora Ids (1190) Women botanists (needs modification to omit those with enwiki articles Women botanists without enwiki article Lindauer's plants/seaweeds Robert Brown's 1068 enwiki articles Kelly Anne Shepherd's plants on enwiki Stuff to allow corrections of Australian Weed IDs Hayata's enwiki articles (58) Items with either an ATRFid or a QLD Biota id Items with ATRF ids Kevin Thiele's journal articles Phillip Gerhard Kodela's articles together with dates Enwiki articles for Kraenzl. Cunninghamia articles Nuytsia artiles uploaded to Wikidata Muelleria articles uploaded to Wikidata Trying to find plant with no image Vietnamese articles with image beginning in P and no enwiki article (124 Vietnamese articles with image beginning in P and no enwiki article and pphotgraphs by Kevin Thiele Muelleria articles Australian Systematic Botany articles Acacia articles without images Left-over Kevin Thiele images Benedictus Hubertus Danser articles Lichenologist articles 400 Index Fungorum records Mycotaxon journal articles Taxa named by K.L.Wilson with an enwiki article Australian Cyperus species Australian Comesperma species and subspecies Fungi enwiki articles 1073 Wikidata Fungi items Fungi No Author (101037 items) APNI id with optional NTFlor IDs Botanists & their abbreviations AusFungi IDs with no parents Count distinct Ausfungi taxa with no author AusLichenIDs with no author or no ex taxon author AusFungi IDs with no author no ex author Taxa authored by Daniel McAlpine Taxa authored by Marie Leonore Farr Taxa authored by John Alan Elix Count excess fungi taxa (>12000) IndexFungorum union Mycobank minus AusFungi (did not use select DISTINCT In index fungorum, auslichen, or ausfungg - optional Mycobank Any taxa in IF AusFungi or mycobank Fungi genera from either AusFungi or IndexFungorum Fungi genera from Index Fungorum Portuguese APNI articles Query to find WA Loranthaceae Allwikidata with Chrysomelinae ancestors + /- AFD-ids Coleoptera genera"@en;
  sh:prefixes <https://example.org/to_decide/wikidata_prefixes>;
  sh:select """PREFIX mwapi: <http://wikiba.se/ontology#>
PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX schema: <http://schema.org/>
PREFIX bd: <http://www.bigdata.com/rdf#>
SELECT ?item ?itemLabel ?apni_id ?article ?sitelink
WHERE 
{
  {
    ?item wdt:P5984 ?apni_id.
    ?sitelink ^schema:name ?article .
    ?article schema:about ?item ;
             schema:isPartOf <https://en.wikipedia.org/> .
  }
  #MINUS
  {
    SERVICE wikibase:mwapi
    {
      bd:serviceParam wikibase:api \"Search\" .
      bd:serviceParam wikibase:endpoint \"en.wikipedia.org\" .
      bd:serviceParam mwapi:srnamespace \"0\" .
      bd:serviceParam mwapi:srlimit \"max\" .
      bd:serviceParam mwapi:srwhat \"text\" .
      bd:serviceParam mwapi:srsearch 'insource:\"Noongar Bush Medicine Medicinal plants\"' .
      ?title wikibase:apiOutput mwapi:title .
    }
    BIND (STRLANG(?title, \"en\") as ?sitelink)
  }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}""";
  <https://purl.expasy.org/sparql-examples/ontology#bigdata_query> """SELECT ?item ?itemLabel ?apni_id ?article ?sitelink
WHERE 
{
  {
    ?item wdt:P5984 ?apni_id.
    ?sitelink ^schema:name ?article .
    ?article schema:about ?item ;
             schema:isPartOf <https://en.wikipedia.org/> .
  }
  #MINUS
  {
    SERVICE wikibase:mwapi
    {
      bd:serviceParam wikibase:api \"Search\" .
      bd:serviceParam wikibase:endpoint \"en.wikipedia.org\" .
      bd:serviceParam mwapi:srnamespace \"0\" .
      bd:serviceParam mwapi:srlimit \"max\" .
      bd:serviceParam mwapi:srwhat \"text\" .
      bd:serviceParam mwapi:srsearch 'insource:\"Noongar Bush Medicine Medicinal plants\"' .
      ?title wikibase:apiOutput mwapi:title .
    }
    BIND (STRLANG(?title, \"en\") as ?sitelink)
  }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}""";
  <https://purl.expasy.org/sparql-examples/ontology#federatesWith> <http://wikiba.se/ontology#label>,
    <http://wikiba.se/ontology#mwapi>;
  schema:target <https://query.wikidata.org/sparql> .
