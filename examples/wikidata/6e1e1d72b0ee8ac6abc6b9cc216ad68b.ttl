@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

<https://www.wikidata.org#query-6e1e1d72b0ee8ac6abc6b9cc216ad68b> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org/wiki/Wikidata:WikiProject_Heads_of_state_and_government/Report:P1313_Fill_Rate>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  rdfs:comment "| Query: Recent changes | Find images | TABernacle | PetScan | WDQS . Manual changes to the list will be removed on the next update! a botThis list is periodically updated by  Manually update list 6.05  1745.0  28831.0   Cuba  13.17  3082.0  23386.0   Republic of the Congo  20.02  5695.0  28440.0   Afghanistan  27.78  5382.0  19368.0   Bhutan  28.12  6578.0  23386.0   Democratic Republic of the Congo  28.91  6108.0  21126.0   Burundi  34.08  8566.0  25128.0   Libya  36.86  10621.0  28811.0   Ethiopia  37.14  8687.0  23386.0   Somalia  38.65  9583.0  24794.0   Sudan  40.58  9754.0  24034.0   Guinea  40.93  11803.0  28831.0   Haiti  43.49  10171.0  23386.0   Madagascar  44.99  10522.0  23386.0   Chad  45.62  9657.0  21168.0   Lesotho  46.0  10758.0  23386.0   Burkina Faso  46.76  10578.0  22621.0   Uganda  47.0  13542.0  28811.0   Panama  48.09  13867.0  28831.0   Ukraine  49.11  11481.0  23378.0   Mali  50.33  12649.0  25128.0   Bulgaria  51.83  12117.0  23378.0   Senegal  52.57  12296.0  23386.0   Togo  52.65  10198.0  19368.0   Qatar  52.85  11976.0  22658.0   Trinidad and Tobago  53.13  12040.0  22658.0   Rwanda  54.71  12575.0  22984.0   Mauritania  56.44  16274.0  28831.0   Iran  56.64  13246.0  23386.0   Gabon  56.66  10136.0  17888.0   Papua New Guinea  61.56  17314.0  28125.0   Pakistan  62.88  18129.0  28831.0   Lebanon  63.69  16005.0  25128.0   Nepal  64.71  15135.0  23386.0   Niger  65.5  18885.0  28831.0   El Salvador  65.76  12020.0  18276.0   Bangladesh  65.9  11805.0  17912.0   São Tomé and Príncipe  67.09  11722.0  17470.0   Angola  68.62  15536.0  22638.0   Algeria  69.25  19339.0  27923.0   Myanmar  69.42  8262.0  11900.0   Kazakhstan  70.85  20386.0  28773.0   Ecuador  72.31  16631.0  22998.0   Syria  72.55  18232.0  25128.0   Jordan  73.14  18381.0  25128.0   Laos  73.29  8611.0  11749.0   Georgia  74.24  12211.0  16447.0   Central African Republic  74.58  18741.0  25128.0   Spain  75.55  15421.0  20411.0   Equatorial Guinea  76.32  13324.0  17456.0   Samoa  77.89  13953.0  17912.0   Mozambique  77.98  15955.0  20460.0   Eswatini  79.72  15900.0  19943.0   Guyana  80.43  18810.0  23386.0   Cameroon  80.55  19972.0  24794.0   Tunisia  81.4  20088.0  24678.0   Ghana  82.06  9436.0  11498.0   North Macedonia  82.64  9973.0  12067.0   North Korea  83.35  24032.0  28831.0   France  84.13  19337.0  22984.0   Mongolia  84.75  13325.0  15721.0   Vanuatu  84.91  10036.0  11819.0   Bosnia and Herzegovina  85.0  21361.0  25128.0   Sri Lanka  85.08  14306.0  16813.0   Solomon Islands  85.26  24583.0  28831.0   Dominican Republic  85.53  16538.0  19334.0   People's Republic of China  85.83  16557.0  19289.0   United Arab Emirates  86.28  19857.0  23014.0   Sierra Leone  86.36  24901.0  28831.0   Paraguay  86.81  10331.0  11900.0   Azerbaijan  87.2  15938.0  18276.0   Grenada  87.91  10462.0  11900.0   Tajikistan  89.77  25884.0  28831.0   Nicaragua  90.05  25964.0  28831.0   Chile  91.59  22711.0  24794.0   Morocco  91.62  18887.0  20613.0   Mauritius  91.66  21421.0  23369.0   Nigeria  92.29  23192.0  25128.0   Albania  92.5  14534.0  15711.0   Belize  92.73  26727.0  28822.0   Liberia  93.87  27038.0  28803.0   Guatemala  94.62  21440.0  22658.0   Jamaica  94.67  20412.0  21559.0   Maldives  94.79  16925.0  17855.0   Comoros  95.39  27104.0  28413.0   Thailand  95.47  23991.0  25128.0   Austria  95.54  22345.0  23386.0   Ivory Coast  95.66  21447.0  22420.0   Kuwait  96.06  15802.0  16449.0   Saint Lucia  96.22  27744.0  28831.0   Poland  96.28  20759.0  21559.0   The Gambia  96.3  11149.0  11577.0   Slovakia  96.35  27761.0  28810.0   Bolivia  97.15  11562.0  11900.0   Kyrgyzstan  97.44  11517.0  11819.0   Slovenia  97.62  28146.0  28831.0   Argentina  97.64  19247.0  19711.0   Fiji  97.72  28168.0  28825.0   India  97.89  20671.0  21115.0   Barbados  97.97  28227.0  28809.0   Venezuela  98.0  28245.0  28819.0   Colombia  98.36  21842.0  22204.0   Kenya  98.38  11708.0  11900.0   Armenia  98.51  28350.0  28777.0   Honduras  98.97  11331.0  11448.0   Monaco  99.05  19203.0  19387.0   Egypt  99.11  22928.0  23133.0   South Africa  99.14  21884.0  22072.0   Tanzania  99.28  11981.0  12067.0   Estonia  99.36  28639.0  28822.0   Costa Rica  99.4  17074.0  17177.0   Vietnam  99.45  8686.0  8734.0   Serbia  99.45  11835.0  11900.0   Moldova  99.45  28673.0  28831.0   Brazil  99.48  9101.0  9148.0   Tonga  99.53  11845.0  11900.0   Turkmenistan  99.61  28662.0  28773.0   Iraq  99.71  12056.0  12090.0   Belarus  99.75  8036.0  8056.0   Switzerland  99.77  25071.0  25128.0   Finland  99.79  25077.0  25128.0   Portugal  99.82  18607.0  18640.0   The Bahamas  99.85  28790.0  28831.0   Turkey  99.85  11952.0  11969.0   Russia  99.87  28789.0  28824.0   Peru  99.87  28731.0  28767.0   Belgium  99.91  12057.0  12067.0   Marshall Islands  99.91  12057.0  12067.0   Latvia  99.91  28415.0  28440.0   Iceland  99.96  28806.0  28817.0   Mexico  99.97  28825.0  28831.0   New Zealand  99.97  12576.0  12579.0   Namibia  99.97  22289.0  22295.0   Malaysia  99.97  28824.0  28831.0   Luxembourg  99.97  28825.0  28831.0   Kingdom of Denmark  99.98  9147.0  9148.0   Nauru  99.98  23383.0  23386.0   Cyprus  99.99  28829.0  28831.0   United Kingdom  99.99  28439.0  28440.0   Sweden  99.99  28576.0  28578.0   Philippines  99.99  19351.0  19352.0   Oman  99.99  28783.0  28784.0   Kingdom of the Netherlands  99.99  24757.0  24758.0   Japan  99.99  25126.0  25128.0   Hungary  99.99  18639.0  18640.0   Germany  99.99  28814.0  28815.0   Canada  99.99  21166.0  21168.0   Botswana  99.99  12631.0  12632.0   Benin  99.99  28821.0  28823.0   Australia  100.0  16107.0  16107.0   Zimbabwe  100.0  11900.0  11900.0   Uzbekistan  100.0  28831.0  28831.0   United States of America  100.0  4827.0  4827.0   South Sudan  100.0  21559.0  21559.0   Singapore  100.0  17541.0  17541.0   Seychelles  100.0  28831.0  28831.0   Saudi Arabia  100.0  16086.0  16085.0   Saint Vincent and the Grenadines  100.0  14984.0  14983.0   Saint Kitts and Nevis  100.0  28797.0  28797.0   Norway  100.0  6669.0  6669.0   Montenegro  100.0  21855.0  21853.0   Malta  100.0  21854.0  21853.0   Malawi  100.0  9148.0  9148.0   Kiribati  100.0  25128.0  25128.0   Ireland  100.0  21187.0  21187.0   Indonesia  100.0  12067.0  12067.0   Federated States of Micronesia  100.0  11448.0  11448.0   Eritrea  100.0  8039.0  8039.0   East Timor  100.0  17177.0  17177.0   Djibouti  100.0  11819.0  11819.0   Croatia  100.0  17912.0  17912.0   Cape Verde  100.0  14619.0  14619.0   Brunei  100.0  19368.0  19368.0   Bahrain  100.0  15664.0  15664.0   Antigua and Barbuda  100.0  11387.0  11387.0   Andorra  100.05  21864.0  21853.0   Zambia  100.27  12100.0  12067.0   Lithuania  100.58  27696.0  27536.0   Israel  100.7  12152.0  12067.0   South Korea  100.93  17999.0  17833.0   Suriname  100.99  11692.0  11577.0   Czech Republic  101.23  16930.0  16723.0   Dominica  101.45  25493.0  25128.0   Italy  101.8  18605.0  18276.0   Guinea-Bissau  102.12  29443.0  28830.0   Greece  102.45  9007.0  8791.0   Tuvalu  105.21  26438.0  25128.0   Cambodia  105.89  26609.0  25128.0   Romania  125.97  15810.0  12550.0   Yemen  199.96  23796.0  11900.0   San Marino  Percent Filled  Days With Data  Days In UN  Country   End of automatically generated list.The underlying query behind this report is:"@en;
  sh:prefixes <https://example.org/to_decide/wikidata_prefixes>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX bd: <http://www.bigdata.com/rdf#>
SELECT ?country ?countryLabel ?daysInUN (SUM(?daysInOffice) AS ?filled) (FLOOR(?filled / ?daysInUN * 10000) / 100 AS ?knownPercent) WHERE {      
  # Current UN Member States
  ?country wdt:P31 wd:Q3624078 ; p:P463 ?ms .
  ?ms ps:P463 wd:Q1065 ; pq:P580 ?joined .
  FILTER NOT EXISTS { ?ms pq:P582 [] } 
  BIND(FLOOR(NOW()-?joined) AS ?daysInUN)

  # what office(s) = head of government, and when?
  ?country p:P1313 ?os .
  ?os ps:P1313 ?office .
  OPTIONAL { ?os pq:P580 ?office580 }
  OPTIONAL { ?os pq:P582 ?office582 }
  FILTER ( !BOUND(?office582)|| (?office582 > ?joined) )
  BIND(IF(BOUND(?office580), IF(?office580 < ?joined, ?joined, ?office580), ?joined) AS ?officeStart)
  BIND(IF(BOUND(?office582), ?office582, NOW()) AS ?officeEnd)

  # Who has held office in that period?  
  ?person wdt:P31 wd:Q5 ; p:P39 ?ps .
  ?ps ps:P39 ?office ; pq:P580 ?heldStart .
  OPTIONAL { ?ps pq:P582 ?heldEnd }
  BIND(IF(BOUND(?heldEnd), ?heldEnd, NOW()) AS ?heldEnd)
  
  BIND(IF(?heldEnd > ?officeEnd, ?officeEnd, ?heldEnd) AS ?hogEnd)
  BIND(IF(?heldStart < ?officeStart, ?officeStart, ?heldStart) AS ?hogStart)
  
  FILTER ((?heldStart < ?officeEnd) && (?heldEnd > ?officeStart))
  BIND(FLOOR(?hogEnd - ?hogStart) AS ?daysInOffice)

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
GROUP BY ?country ?countryLabel ?daysInUN
ORDER BY DESC(?knownPercent) ?countryLabel""";
  <https://purl.expasy.org/sparql-examples/ontology#bigdata_query> """SELECT ?country ?countryLabel ?daysInUN (SUM(?daysInOffice) AS ?filled) (FLOOR(?filled / ?daysInUN * 10000) / 100 AS ?knownPercent) WHERE {      
  # Current UN Member States
  ?country wdt:P31 wd:Q3624078 ; p:P463 ?ms .
  ?ms ps:P463 wd:Q1065 ; pq:P580 ?joined .
  FILTER NOT EXISTS { ?ms pq:P582 [] } 
  BIND(FLOOR(NOW()-?joined) AS ?daysInUN)

  # what office(s) = head of government, and when?
  ?country p:P1313 ?os .
  ?os ps:P1313 ?office .
  OPTIONAL { ?os pq:P580 ?office580 }
  OPTIONAL { ?os pq:P582 ?office582 }
  FILTER ( !BOUND(?office582)|| (?office582 > ?joined) )
  BIND(IF(BOUND(?office580), IF(?office580 < ?joined, ?joined, ?office580), ?joined) AS ?officeStart)
  BIND(IF(BOUND(?office582), ?office582, NOW()) AS ?officeEnd)

  # Who has held office in that period?  
  ?person wdt:P31 wd:Q5 ; p:P39 ?ps .
  ?ps ps:P39 ?office ; pq:P580 ?heldStart .
  OPTIONAL { ?ps pq:P582 ?heldEnd }
  BIND(IF(BOUND(?heldEnd), ?heldEnd, NOW()) AS ?heldEnd)
  
  BIND(IF(?heldEnd > ?officeEnd, ?officeEnd, ?heldEnd) AS ?hogEnd)
  BIND(IF(?heldStart < ?officeStart, ?officeStart, ?heldStart) AS ?hogStart)
  
  FILTER ((?heldStart < ?officeEnd) && (?heldEnd > ?officeStart))
  BIND(FLOOR(?hogEnd - ?hogStart) AS ?daysInOffice)

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
GROUP BY ?country ?countryLabel ?daysInUN
ORDER BY DESC(?knownPercent) ?countryLabel""";
  schema:target <https://query.wikidata.org/sparql> .
