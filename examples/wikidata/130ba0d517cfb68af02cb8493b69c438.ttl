@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

<https://www.wikidata.org#query-130ba0d517cfb68af02cb8493b69c438> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org/wiki/User:Pere_prlpz>, <https://www.wikidata.org/wiki/User_talk:Pere_prlpz>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  rdfs:comment "TODO"@en, "WD i WP de centres docentsPere, per aprendre a programar en Python i anar-me sentint més còmode en l'ús de crides a diferents APIs i paquets de Python, he fet un script per posar (de forma individual) l'etiqueta wikidata i la name:etymology:wikidata als centres docents de Catalunya (+PV+IB). Afortunadament, les persones que editen nodes, vies i relacions d'OSM de centres docents hi posen la referència de les dades obertes de la Gencat, igual que vam fer nosaltres amb la importació a WD a Cat i d'altres persones a IB i PV. Tenim com a possible projecte promoure que els centres docents vagin millorant les entrades a WD del seu centre. Tu mateix estàs posant-hi fotos, seria fantàstic que tots els centres tinguessin fotos, dada de fundació, epònim, etc... Tres preguntes, aquí: (1) Quina informació podríem suggerir a cada centre docent que hi posés (per exemple, les tres coses que he esmentat). Ara mateix a cada entrada WD ja hi ha número d'estudiants, i si escau: número d'estudiants de BAT i número d'estudiants finançats amb fons públics (per a centres concertats). No sé si podrien importar alguna altra dada oberta. (2) Seria interessant i adient crear de forma automatitzada una pàgina a Viquipèdia amb les dades actuals de cada centre docent (via WD), perquè així ja la tinguin creada, una mica com si fos una plantilla? Amb les categories que es decidís, és clar. Molts de centres docents tenen ja una pàgina d'història al seu web, segurament que podria ser un bon treball per fer a classe o per la pròpia direcció del centre. O és millor que se la creï cadascú? (3) OSM proporciona la geometria (excepte si ha estat declarat com a node només) del centre docent. Quina seria la millor manera de fer-la aparèixer a la possible pàgina de Viquipèdia, més enllà de la localització (lon, lat) que ja hi ha per a cada centre docent a WD?  ]reply[13:56, 28 July 2022 (UTC)) talk (Quelet: AmadalvarezPer anar-hi pensant, gràcies a l'avenç! @ diferents no és problema:(P31)instance of : Obtenir els centres educatius encara que tinguin Quelet@ ]reply[11:22, 29 July 2022 (UTC)) talk (QueletHi seguiré treballant, gràcies!  Pel que fa aplicació atractiva, més enllà dels mapes, hi ha la geolocalització d'escoles amb epònim femení, epònim de persona de ciència, etc. També mapes amb la mida del centre docent, el seu caràcter, etc. Tens raó, una cosa és el valor intrínsec d'un sol Q de WD, i un altre el valor de disposar del conjunt de centres docents amb dades com número d'estudiants, etc. El problema és construir una consulta SPARQL que detecti les escoles de primària i centres privats duplicats... perquè cadascú hi posa el P31 que li sembla bé. Ho analitzaré una mica a veure si en trec l'entrellat. O potser es pot buscar pel propi nom, i mirar quin no té referència, i per tant no pertany a la importació, en la línia que proposes. Fer llistes automàtiques és fàcil. No era pas una qüestió que plantegés, però.Pere  ]reply[09:35, 29 July 2022 (UTC)) talk (Pere prlpzDonant-li voltes al tema de les llistes automàtiques, potser es pot fer, i de fet les escoles ja estan sortint a la llista de topònims dels municipis. Ara bé, jo preguntaria a la Taverna per si de cas. Les llistes de ponts o de masies poden servir de mostra.-- Involucrar les escoles en actualitzar les seves dades pot ser menys perillós que fer el mateix a la Viquipèdia (no se m'ocorre com una escola podria pujar unes dades esbiaixades) però sí que em sembla més complicat, especialment perquè les dades no tenen una aplicació directa que ho faci atractiu per les escoles (a menys que sí que tingueu pensada una aplicació atractiva). Si hi ha pocs duplicats pot ser més fàcil trobar-los, perquè només cal buscar les escoles amb un Q més baix que els teus i comprovar si també les vas pujar (essent pocs no ha de costar gaire comprovar-los tots). Buscar les escoles sense les referències que tu posaves pot ser encara més efectiu perquè no sortiran les escoles que ja s'hagin fusionat.: Quelet@ ]reply[06:08, 29 July 2022 (UTC)) talk (QueletPel que fa a la pròpia importació, és lògic que hi hagi casos de duplicats, especialment en escoles públiques i centres educatius privtats de Barcelona i poblacions grans. Jo també vaig mirant de corregir-ho. En el cas d'Instituts, sí que vaig esmerçar una colla de dies via OpenRefine a què no hi hagués duplicats. Però semblava que a nivell de centres de primària o privats hi hauria pocs casos. Lògicament les escoles privades amb més tradició són les que poden haver quedat amb duplicat, i més en una zona tan rellevant com Sarrià. Destinaré temps d'aquest mes d'agost a anar-ho corregint i fer neteja abans de continuar, tal com suggereixes.  Del tema dels noms de les escoles, hi estic d'acord. Als centres públics, és més fàcil en general: o són instituts o són escoles (encara que a la retolació i a la parla popular se'n pugui dir encara IES, CEIP, etc.). Als centres privats, certament els noms no són \"centre educatiu privat...\" Potser es podria posar a l'alias. En tot cas sembla un tema relativament fàcil. M'adono que no he tingut en compte gaire el conflicte d'interès en el cas de pàgines VP d'un centre docent, ni tampoc el criteri de notabilitat. Em fa l'efecte que el valor de tenir tots els centres docents a wikidata és precisament que hi siguin tots, amb dades referenciables. I tal com dius, una cosa és la base de dades, i una altra la viquipèdia. Les propietats que es podrien afegir a una entrada (foto, data de creació, url, ...) són objectives, però potser hi ha alguna manera indirecta de fer-ho on no hi hagi cap conflicte d'interès.Pere, moltes gràcies per la resposta.  ]reply[21:42, 28 July 2022 (UTC)) talk (Pere prlpz.--(P402)OpenStreetMap relation ID Per relacionar un item amb un objecte d'OSM crec que es fa amb  Tot i que la neutralitat sembla més robusta a Wikidata que a la Viquipèdia, convidar les escoles a omplir-se les seves dades a Wikidata pot ser complicat i ens podem trobar amb edicions sense referències o sense canviar les referències i amb un cert biaix. Ara bé, és cert que algunes dades les podrien posar les escoles, com la pàgina web i la foto. L'any de creació potser també. No m'he mirat quines propietats més hi ha que siguin aplicables a escoles. Crear automàticament articles de totes les escoles em sembla una molt mala idea, per començar perquè la immensa majoria no són notables. Fer-ne una llista automàtica no sé si es podria perquè no recordo que mai s'hagi plantejat fer llistes automàtiques de temes tan poc notables i no sé com s'ho prendria la comunitat.De la resta crec que en podríem parlar quan s'hagi arreglat això, però:  Els noms: Entenc que noms com \"Centre educatiu privat Escola Pia de Sarrià-Calassanç\" és com deu sortir a la llista del departament perquè algú ha decidit posar la classificació al camp del nom, i segurament seria útil tenir això com a àlies, però això no és el nom de l'escola, que es diu \"Escola Pia de Sarrià-Calassanç\", i em temo que passa el mateix amb totes les escoles privades (les públiques no me les he mirades). Deu haver-hi casos que s'hagin de revisar a mà, però hauria de ser fàcil treure automàticament el nom de l'escola en la majoria de caos. Els duplicats: No sé quin sistema de control vau fer servir per detectar duplicats però sembla que no ha funcionat gaire. Entenc que és llaminer posar-se a pujar escoles sense buscar duplicats perquè és la tasca més lenta, i fer-ho bé vol dir passar-s'hi setmanes en comptes de fer-ho tot en uns minuts o poques hores, però si no es va fer quan es va pujar s'hauria de fer ara. Crec que en alguns llocs com Sarrià totes les escoles que ja hi havia es van duplica4. Això es pot fer amb Python o fins i tot amb una query o amb Wikishootme (jo ho feia amb R), fent un mapa clicable dels centres educatius i comprovant manualment totes les parelles de punts massa propers si són el mateix centre o no, i fusionant-los. Amb altres topònims jo ho feia amb R (abans de la pujada) representant en dos colors els centres pujats i els que ja hi eren, però es pot fer amb moltes eines ara que ja són a Wikidata. Naturalment, fent servir el nom (sense la part genèrica), el municipi i les coordenades hauria de ser fàcil trobar automàticament la majoria de duplicats, de manera que el mapa només caldria per acabar de fer net.: Abans d'afegir més dades, crec que l'urgent és arreglar la pujada que s'ha fet. Particularment hi veig dues coses importants: Quelet@"@en;
  sh:prefixes <https://example.org/to_decide/wikidata_prefixes>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
# centres educatius de Catalunya per tipus
SELECT DISTINCT ?centre ?centreLabel ?coordinate ?layer ?layerLabel
WHERE {
   {
  SELECT ?centre 
WHERE {
  ?centre wdt:P131* wd:Q5705.
 } }
  ?centre wdt:P31/wdt:P279* wd:Q5341295.
  ?centre wdt:P625 ?coordinate.
  ?centre wdt:P31 ?layer
SERVICE wikibase:label {
bd:serviceParam wikibase:language \"ca,en,es\" .
}
}
#defaultView:Map""";
  <https://purl.expasy.org/sparql-examples/ontology#bigdata_query> """# centres educatius de Catalunya per tipus
SELECT DISTINCT ?centre ?centreLabel ?coordinate ?layer ?layerLabel
WITH {
  SELECT ?centre 
WHERE {
  ?centre wdt:P131* wd:Q5705.
 } } AS %1
WHERE {
  INCLUDE %1.
  ?centre wdt:P31/wdt:P279* wd:Q5341295.
  ?centre wdt:P625 ?coordinate.
  ?centre wdt:P31 ?layer
SERVICE wikibase:label {
bd:serviceParam wikibase:language \"ca,en,es\" .
}
}
#defaultView:Map""";
  <https://purl.expasy.org/sparql-examples/ontology#federatesWith> <http://wikiba.se/ontology#label>;
  schema:target <https://query.wikidata.org/sparql> .
