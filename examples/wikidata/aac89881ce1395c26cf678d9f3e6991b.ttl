@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

<https://www.wikidata.org#query-aac89881ce1395c26cf678d9f3e6991b> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/ar>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/ca>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/da>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/de>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/en>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/en-gb>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/es>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/et>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/fr>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/he>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/hy>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/id>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/it>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/ja>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/lb>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/nl>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/pl>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/pt-br>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/ru>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/sv>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/szl>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/tr>, <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/uk>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial/zh>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  rdfs:comment "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@ar,
    "wikibase: Etiquetes i agregacionsUna consulta com la següent, que busca a Wikidata totes les persones acadèmiques amb ciutadania de més de dos països, no mostra el nom d'aquests països a la columna ?citizenships:"@ca,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@da,
    "wikibase:Label und AggregatEine Abfrage, wie die folgende, die alle Akademiker in Wikidata mit mehr als zwei Staatsangehörigkeiten sucht, gibt die Namen dieser Länder in der ?citizenships-Spalte nicht aus:"@de,
    "wikibase:Label and aggregationsA query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@en,
    "wikibase:Label and aggregations bug  There is currently (February 2020) a problem with the query service when you want to use the $service service with aggregation functions. A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata and is supposed to show the names of those countries in an aggregate string:"@en-GB,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@es,
    "wikibase:Label ja agregeerimine  Päringuteenusel on praegu üks puudus, mis ilmneb, kui tahad kasutada $service teenust koos agregeerivate funktsioonidega. Järgnev päring otsib kõiki topeltkodakondusega akadeemilisi isikuid Wikidatas ja peaks tagastama nende riikide nimed agregeeritud sõnena:"@et,
    "wikibase:Label et agrégationsUne requête telle que la suivante, qui recherche toutes les personnes académiques avec plus de deux pays de citoyenneté dans Wikidata, n'affiche pas les noms de ces pays dans la colonne ?citizenships :"@fr,
    "wikibase:Label וכינוסיםשאילתה כמו זו, שמחפשת את כל אנשי האקדמיה עם אזרחות ביותר משתי מדינות בוויקינתונים, לא מציגה את שמות המדינות האלה בעמודה ‎?citizenships:"@he,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@hy,
    "Kutu wikibase:Label dan agregasi  Pada saat ini (Februari 2020) terdapat masalah dengan layanan kueri ketika Anda ingin menggunakan layanan $service dengan fungsi agregasi. Kueri seperti yang berikut ini, yang mencari semua tokoh akademik denga nlebih dari dua kewarganegaraan di Wikidata dan seharusnya menampilkan nama negara-negara tersebut di dalam string agregat:"@id,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@it,
    "wikibase:ラベルと集約2つ以上の国で市民権を持つすべての学者をWikidat内に検索するような、以下のようなクエリでは、これらの国の名前は?citizenships列に表示されません。"@ja,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@lb,
    "wikibase:Label en aggregatiesEen query als de volgende, die alle academische personen met meer dan twee landen van burgerschaps verwacht in Wikidata, laat de namen van die landen niet zien in de kolom ?citizenships:"@nl,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@pl,
    "TODO"@pt-BR, "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@ru,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@sv,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@szl,
    "wikibase:Label and aggregations  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@tr,
    "wikibase:Назви й агрегаціїЗапит, подібний до наведеного нижче, який шукає у Вікіданих усіх науковців із більш ніж двома країнами громадянства, не показує назви цих країн у стовпці ?citizenships:"@uk,
    "wikibase:标签和聚合的bug  A query such as the following, which searches all academic persons with more than two countries of citizenships in Wikidata, does not show the names of those countries in the ?citizenships column:"@zh;
  sh:prefixes <https://example.org/to_decide/wikidata_prefixes>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
select ?person ?personLabel (group_concat(?citizenshipLabel;separator=\"/\") as ?citizenships) {
  # find all academics
  ?person wdt:P106 wd:Q3400985 ;   
          wdt:P27  ?citizenship .
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} group by ?person ?personLabel having (count(?citizenship) > 2)""";
  <https://purl.expasy.org/sparql-examples/ontology#bigdata_query> """select ?person ?personLabel (group_concat(?citizenshipLabel;separator=\"/\") as ?citizenships) {
  # find all academics
  ?person wdt:P106 wd:Q3400985 ;   
          wdt:P27  ?citizenship .
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} group by ?person ?personLabel having (count(?citizenship) > 2)""";
  <https://purl.expasy.org/sparql-examples/ontology#federatesWith> <http://wikiba.se/ontology#label>;
  schema:target <https://query.wikidata.org/sparql> .
