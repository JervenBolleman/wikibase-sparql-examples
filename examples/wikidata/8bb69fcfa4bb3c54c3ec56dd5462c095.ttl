@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

<https://www.wikidata.org#query-8bb69fcfa4bb3c54c3ec56dd5462c095> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples/zh>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  rdfs:comment "الكتب أو الأعمال الأدبية المنشورة قبل عام 1830 مع مكان النشر أو إحداثيات الموقع السردي(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of الخصائص المستخدمة:  (Q7725634)literary work  (Q571)book العناصر المستخدمة:"@ar,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@be-tarask,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@ca,
    "Knihy nebo literární díla vydaná před rokem 1830 se souřadnicemi místa vydání nebo místa vyprávění(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Použité vlastnosti:  (Q7725634)literary work  (Q571)book Použité položky:"@cs,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Brugte egenskaber:"@da,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@de,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@en,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@en-GB,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@eo,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Propiedades utilizadas:  (Q7725634)literary work  (Q571)book Elementos utilizados:"@es,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@eu,
    "Livres ou œuvres littéraires publiés avant 1830 dont on connaît le lieu de publication ou les coordonnées du lieu de l’histoire(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Propriétés utilisées :  (Q7725634)literary work  (Q571)book Éléments utilisés :"@fr,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of מאפיינים משמשים:  (Q7725634)literary work  (Q571)book פריטים משמשים:"@he,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@hy,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@id,
    "Libri o opere letterarie pubblicati prima del 1830 con le coordinate del luogo di pubblicazione o del luogo di narrazione(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Proprietà utilizzate:  (Q7725634)literary work  (Q571)book Elementi utilizzati:"@it,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of 使用するプロパティ：  (Q7725634)literary work  (Q571)book 使用する項目："@ja,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of 다음 속성이 사용됨  (Q7725634)literary work  (Q571)book 다음 항목이 사용됨"@ko,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@lb,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@lt,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@ms,
    "Boeken of literaire werken gepubliceerd vóór 1830 met plaats van publicatie of verhalende locatiecoördinaten(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Gebruikte eigenschappen:  (Q7725634)literary work  (Q571)book Gebruikte items:"@nl,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Wykorzystujące właściwości:  (Q7725634)literary work  (Q571)book Wykorzystujące elementy:"@pl,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@pt-BR,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@ro,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@ru,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@si,
    "Böcker eller litterära verk utgivna innan 1830 med koordinater för utgivningsplats eller plats som verket utspelar sig på(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Använda egenskaper:  (Q7725634)literary work  (Q571)book Använda objekt:"@sv,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@th,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@tr,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of Використані властивості:  (Q7725634)literary work  (Q571)book Використані елементи:"@uk,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates"@vec,
    "Books or literary works published before 1830 with place of publication or narrative location coordinates(P625)coordinate location  (P840)narrative location  (P291)place of publication  (P577)publication date  (P31)instance of 使用属性：  (Q7725634)literary work  (Q571)book 使用项："@zh;
  sh:prefixes <https://example.org/to_decide/wikidata_prefixes>;
  sh:select """PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?item ?label ?coord ?place
WHERE
{
  VALUES ?type {wd:Q571 wd:Q7725634} # book or literary work
  ?item wdt:P31 ?type .
  ?item wdt:P577 ?date FILTER (?date < \"1830-01-01T00:00:00Z\"^^xsd:dateTime) .
  ?item rdfs:label ?label FILTER (lang(?label) = \"en\")

  OPTIONAL {
    ?item (wdt:P291|wdt:P840) ?place . # publication or narration place is ?place
    ?place wdt:P625 ?coord
  }
}""";
  <https://purl.expasy.org/sparql-examples/ontology#bigdata_query> """SELECT ?item ?label ?coord ?place
WHERE
{
  VALUES ?type {wd:Q571 wd:Q7725634} # book or literary work
  ?item wdt:P31 ?type .
  ?item wdt:P577 ?date FILTER (?date < \"1830-01-01T00:00:00Z\"^^xsd:dateTime) .
  ?item rdfs:label ?label FILTER (lang(?label) = \"en\")

  OPTIONAL {
    ?item (wdt:P291|wdt:P840) ?place . # publication or narration place is ?place
    ?place wdt:P625 ?coord
  }
}""";
  schema:target <https://query.wikidata.org/sparql> .
